CCS PCH C Compiler, Version 4.140, 31805               10-fev-14 16:23

               Filename:   D:\Eletronica\Projetos\BLDC\main.lst

               ROM used:   510 bytes (2%)
                           Largest free fragment is 32258
               RAM used:   12 (1%) at main() level
                           21 (1%) worst case
               Stack:     2 locations

*
0000:  GOTO   011E
.................... /* 
....................  * main.c 
....................  * 
....................  *  Created on: 03/02/2014 
....................  *      Author: cuki 
....................  */ 
.................... #include<18F45K20.h> 
.................... //////// Standard Header file for the PIC18F45K20 device //////////////// 
.................... #device PIC18F45K20 
.................... #list 
....................  
....................  
.................... #fuses H4 
....................  
.................... #use delay(crystal=15MHz, clock=60MHz) 
00FE:  MOVLW  01
0100:  SUBWF  0C,F
0102:  BNC   011C
0104:  CLRF   FEA
0106:  MOVLW  0C
0108:  MOVWF  FE9
010A:  MOVF   FEF,W
010C:  BZ    011C
010E:  MOVLW  03
0110:  MOVWF  00
0112:  DECFSZ 00,F
0114:  BRA    0112
0116:  BRA    0118
0118:  DECFSZ FEF,F
011A:  BRA    010E
011C:  RETURN 0
.................... #use rs232(xmit=PIN_C6, baud=9600) 
*
0004:  BCF    F94.6
0006:  BCF    F8B.6
0008:  MOVLW  08
000A:  MOVWF  01
000C:  BRA    000E
000E:  NOP   
0010:  BSF    01.7
0012:  BRA    0030
0014:  BCF    01.7
0016:  RRCF   14,F
0018:  BTFSC  FD8.0
001A:  BSF    F8B.6
001C:  BTFSS  FD8.0
001E:  BCF    F8B.6
0020:  BSF    01.6
0022:  BRA    0030
0024:  BCF    01.6
0026:  DECFSZ 01,F
0028:  BRA    0016
002A:  BRA    002C
002C:  NOP   
002E:  BSF    F8B.6
0030:  MOVLW  02
0032:  MOVWF  00
0034:  CLRF   FE9
0036:  DECFSZ FE9,F
0038:  BRA    0036
003A:  DECFSZ 00,F
003C:  BRA    0034
003E:  BRA    0040
0040:  BTFSC  01.7
0042:  BRA    0014
0044:  BTFSC  01.6
0046:  BRA    0024
0048:  RETURN 0
....................  
.................... int cont = 1; 
.................... int cont2 = 0; 
.................... long tempo = 35000; 
.................... long tempoAux = 0; 
.................... short ctrl = FALSE; 
.................... short trigger = FALSE; 
.................... int main(void) { 
*
011E:  CLRF   FF8
0120:  BCF    FD0.7
0122:  CLRF   FEA
0124:  CLRF   FE9
0126:  BCF    F94.6
0128:  BSF    F8B.6
012A:  MOVLW  01
012C:  MOVWF  04
012E:  CLRF   05
0130:  MOVLW  88
0132:  MOVWF  07
0134:  MOVLW  B8
0136:  MOVWF  06
0138:  CLRF   09
013A:  CLRF   08
013C:  BCF    0A.0
013E:  BCF    0A.1
0140:  MOVLW  00
0142:  MOVWF  F7E
0144:  BCF    FC1.4
0146:  BCF    FC1.5
0148:  MOVF   F7F,W
014A:  ANDLW  E0
014C:  MOVWF  F7F
014E:  BCF    F79.5
0150:  BCF    F79.4
0152:  CLRF   F7A
0154:  CLRF   F7B
....................  
.................... 	setup_ccp1(CCP_PWM); 
0156:  BCF    F94.2
0158:  BCF    F8B.2
015A:  MOVLW  0C
015C:  MOVWF  FBD
015E:  CLRF   FB7
0160:  CLRF   FB6
0162:  MOVLW  01
0164:  MOVWF  FB9
.................... 	setup_timer_2(T2_DIV_BY_1, 250, 1); 
0166:  MOVLW  00
0168:  IORLW  04
016A:  MOVWF  FCA
016C:  MOVLW  FA
016E:  MOVWF  FCB
.................... 	set_pwm1_duty(127); 
0170:  MOVLW  7F
0172:  MOVWF  FBE
....................  
.................... 	while (TRUE) { 
.................... 		cont <<= 1; 
0174:  BCF    FD8.0
0176:  RLCF   04,F
.................... 		if (cont == 8) 
0178:  MOVF   04,W
017A:  SUBLW  08
017C:  BNZ   0182
.................... 			cont = 1; 
017E:  MOVLW  01
0180:  MOVWF  04
.................... 		output_d(cont); 
0182:  CLRF   F95
0184:  MOVFF  04,F8C
.................... 		if (tempo > 4000) { 
0188:  MOVF   07,W
018A:  SUBLW  0E
018C:  BC    01B6
018E:  XORLW  FF
0190:  BNZ   0198
0192:  MOVF   06,W
0194:  SUBLW  A0
0196:  BC    01B6
.................... 			if (!input(PIN_B1) && ctrl) { 
0198:  BSF    F93.1
019A:  BTFSC  F81.1
019C:  BRA    01AE
019E:  BTFSS  0A.0
01A0:  BRA    01AE
.................... 				ctrl = FALSE; 
01A2:  BCF    0A.0
.................... 				tempo -= 500; 
01A4:  MOVLW  F4
01A6:  SUBWF  06,F
01A8:  MOVLW  01
01AA:  SUBWFB 07,F
.................... 			} else if (input(PIN_B1)) 
01AC:  BRA    01B6
01AE:  BSF    F93.1
01B0:  BTFSS  F81.1
01B2:  BRA    01B6
.................... 				ctrl = TRUE; 
01B4:  BSF    0A.0
.................... 		} 
.................... 		if (tempoAux != tempo) { 
01B6:  MOVF   06,W
01B8:  SUBWF  08,W
01BA:  BNZ   01C2
01BC:  MOVF   07,W
01BE:  SUBWF  09,W
01C0:  BZ    01DE
.................... 			tempoAux = tempo; 
01C2:  MOVFF  07,09
01C6:  MOVFF  06,08
.................... 			printf("\f%lu", tempo); 
01CA:  MOVLW  0C
01CC:  MOVWF  14
01CE:  RCALL  0004
01D0:  MOVLW  10
01D2:  MOVWF  FE9
01D4:  MOVFF  07,0C
01D8:  MOVFF  06,0B
01DC:  BRA    004A
.................... 		} 
.................... 		delay_us(tempo); 
01DE:  MOVFF  07,0B
01E2:  INCF   0B,F
01E4:  DECF   0B,F
01E6:  BTFSC  FD8.2
01E8:  BRA    01F0
01EA:  SETF   0C
01EC:  RCALL  00FE
01EE:  BRA    01E4
01F0:  MOVFF  06,0C
01F4:  RCALL  00FE
.................... 	} 
01F6:  BRA    0174
....................  
.................... 	return 0; 
01F8:  MOVLW  00
01FA:  MOVWF  01
.................... } 
....................  
01FC:  SLEEP 

Configuration Fuses:
   Word  1: C600   H4 FCMEN IESO
   Word  2: 1E1E   PUT BROWNOUT BORV18 NOWDT WDT32768
   Word  3: 8F00   CCP2C1 PBADEN LPT1OSC HFOFST MCLR
   Word  4: 0081   STVREN NOLVP NOXINST NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
